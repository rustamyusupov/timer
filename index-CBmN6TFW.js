(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const V of document.querySelectorAll('link[rel="modulepreload"]'))n(V);new MutationObserver(V=>{for(const o of V)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function s(V){const o={};return V.integrity&&(o.integrity=V.integrity),V.referrerPolicy&&(o.referrerPolicy=V.referrerPolicy),V.crossOrigin==="use-credentials"?o.credentials="include":V.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(V){if(V.ep)return;V.ep=!0;const o=s(V);fetch(V.href,o)}})();const l=async t=>{try{const e=await fetch(t);if(!e.ok)throw new Error("Network response was not ok");return await e.json()}catch(e){return console.error("Failed to fetch:",e),[]}},d=t=>{const e=localStorage.getItem(t);return e?JSON.parse(e):null},m=(t,e)=>{localStorage.setItem(t,JSON.stringify(e))},u=async()=>{const e=new URLSearchParams(window.location.search).get("url");return(e?await l(e):d("timers"))||[]},a=t=>`${Math.floor(t/60).toString().padStart(2,"0")}:${(t%60).toString().padStart(2,"0")}`,A=t=>new Promise(e=>setTimeout(e,t)),p=(...t)=>(...e)=>t.forEach(s=>s(...e)),i=new(window.AudioContext||window.webkitAudioContext),c=async(t=500,e=1)=>new Promise(s=>{const n=i.createOscillator(),V=i.createGain();n.connect(V),V.connect(i.destination),V.gain.value=e,n.frequency.value=1e3,n.type="sine",n.start(i.currentTime),n.stop(i.currentTime+t/1e3),n.onended=async()=>{await A(500),s()}}),g=t=>{const e=new SpeechSynthesisUtterance(t);window.speechSynthesis.speak(e)},f=()=>{if(!(navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform)))return;const e=()=>{const s=new SpeechSynthesisUtterance("hello");s.volume=0,speechSynthesis.speak(s),document.removeEventListener("click",e)};document.addEventListener("click",e)},y=()=>{const t=new Audio;return t.src="data:audio/mp3;base64,SUQzBAAAAAABEVRYWFgAAAAtAAADY29tbWVudABCaWdTb3VuZEJhbmsuY29tIC8gTGFTb25vdGhlcXVlLm9yZwBURU5DAAAAHQAAA1N3aXRjaCBQbHVzIMKpIE5DSCBTb2Z0d2FyZQBUSVQyAAAABgAAAzIyMzUAVFNTRQAAAA8AAANMYXZmNTguMTYuMTAyAAAAAAAAAAAAAAD/80DEAAAAA0gAAAAATEFNRTMuMTAwVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/zQsRbAAADSAAAAABVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/zQMSkAAADSAAAAABVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV",t.loop=!0,{start:()=>t.play(),stop:()=>t.pause()}},S=(t={})=>{const e={intervalId:null,isRunning:!1,lastTime:null,seconds:0,timerIdx:0,timers:t.timers||[],onEnd:t.onEnd||(()=>{}),onTick:t.onTick||(()=>{}),onStart:t.onStart||(()=>{}),onUpdate:t.onUpdate||(()=>{}),onComplete:t.onComplete||(()=>{})};e.onUpdate&&e.onUpdate(e);const s={getState:()=>({...e}),start:()=>{e.lastTime=Date.now(),e.intervalId=setInterval(()=>{const n=Date.now(),V=Math.floor((n-e.lastTime)/1e3);V<1||(e.seconds-=V,e.lastTime=n,e.onTick(e.seconds),e.seconds===0&&e.onEnd(),e.seconds<0?s.next():e.onUpdate(e))},100)},stop:()=>{clearInterval(e.intervalId),e.lastTime=null,e.onUpdate(e)},toggle:()=>{const n=e.timers[e.timerIdx];!e.isRunning&&!e.seconds&&e.onStart(n.name),e.isRunning=!e.isRunning,e.isRunning?(e.seconds=e.seconds||n.time,n.active=!0,s.start()):s.stop(),e.onUpdate(e)},next:()=>{const n=e.timers[e.timerIdx];if(n.active=!1,e.timerIdx+=1,e.timerIdx>=e.timers.length){s.reset();return}const V=e.timers[e.timerIdx];e.seconds=V.time,V.active=!0,e.onUpdate(e),e.onStart(V.name)},reset:()=>{e.isRunning=!1,e.seconds=0,e.timerIdx=0,e.lastTime=null,e.timers.forEach(n=>{n.active=!1}),clearInterval(e.intervalId),e.onUpdate(e),e.onComplete()}};return s},h=t=>{const e=document.getElementById("version"),s=document.getElementById("display"),n=document.getElementById("toggle"),V=document.getElementById("reset"),o=document.getElementById("list");n.disabled=V.disabled=t.timers.length===0,n.innerHTML=t.isRunning?"Stop":"Start",s.innerHTML=a(t.seconds),e.textContent="1.12.0",o.innerHTML=t.timers.map(r=>`<li class="item${r.active?" active":""}"><span class="text name">${r.name}</span><span class="text time">${a(r.time)}</span></li>`).join("")},w=async()=>{const t=document.getElementById("toggle"),e=document.getElementById("reset"),s=y(),n=await u(),V=S({timers:n,onEnd:c,onStart:g,onUpdate:h,onComplete:s.stop,onTick:r=>r<=3&&r>0&&c(100)}),o=()=>s==null?void 0:s[V.getState().isRunning?"start":"stop"]();t.addEventListener("click",p(V.toggle,o)),e.addEventListener("click",V.reset),f(),m("timers",n)};document.addEventListener("DOMContentLoaded",w);
